{"version":3,"sources":["services/numbers.js","index.js"],"names":["baseUrl","axios","get","name","number","post","id","delete","newObject","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","message","isError","notification","setNotification","setTimedNotification","setTimeout","useEffect","numberService","then","response","data","filterChangeHandler","event","target","value","submitPressed","preventDefault","existingPerson","find","elem","window","confirm","map","person","catch","error","concat","handleNewNameChange","handleNewNumberChange","removePerson","personName","Filter","onChange","PersonForm","onSubmit","type","Persons","toLowerCase","includes","key","Person","onClick","Notification","className","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.037db753.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (name, number) => {\n  return axios.post(baseUrl, {name, number})\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport numberService from './services/numbers'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notification, setNotification ] = useState({message:null, isError:false})\n\n  const submitPressed = (event) => {\n    event.preventDefault()\n    const existingPerson = persons.find((elem) => elem.name === newName)\n    if (existingPerson){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\n        numberService\n          .update(existingPerson.id, {...existingPerson, number:newNumber})\n          .then(response => {\n            setPersons(persons.map(person => person.id === existingPerson.id ? response.data : person))\n            setTimedNotification(`${newName}'s number changed to ${newNumber}`, false)\n          })\n          .catch(error => {\n            setTimedNotification(`${newName} was already removed from server`, true)\n          })\n      }\n    } else {\n      numberService\n        .create(newName, newNumber)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setTimedNotification(`Added ${response.data.name}`, false) })\n        .catch(error => setTimedNotification(error.response.data.error, true))\n    }\n    setNewName(\"\")\n    setNewNumber(\"\")\n  }\n\n  const handleNewNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const setTimedNotification = (message, isError) => {\n    setNotification({message, isError})\n    setTimeout(() => {\n      setNotification({message:null, isError:false})\n    }, 5000) \n  }\n\n  const removePerson = (id) => {\n    const personName = persons.find(person => person.id === id).name\n    if (window.confirm(`Delete ${personName} ?`)) {\n      numberService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setTimedNotification(`Deleted ${personName}`, false)\n        })\n    }\n  }\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  return (\n    <div>\n\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} isError={notification.isError} />\n\n      <Filter filter={filter} filterChangeHandler={handleFilterChange} />\n\n      <h3>Add a new</h3>\n      <PersonForm\n        submitPressed={submitPressed}\n        newName={newName}\n        handleNewNameChange={handleNewNameChange}\n        newNumber={newNumber}\n        handleNewNumberChange={handleNewNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} removePerson={removePerson} />\n\n    </div>\n  )\n}\n\nconst Filter = ({filter, filterChangeHandler}) => {\n  return (\n    <div>\n      filter shown with <input value={filter} onChange={filterChangeHandler} />\n    </div>\n  )\n}\n\nconst PersonForm = ({submitPressed, newName, handleNewNameChange, newNumber, handleNewNumberChange}) => {\n  return (\n    <form onSubmit={submitPressed}>\n      <div> name: <input value={newName} onChange={handleNewNameChange}/> </div>\n      <div> number: <input value={newNumber} onChange={handleNewNumberChange} /></div>\n      <div> <button type=\"submit\">add</button> </div>\n    </form>\n  )\n}\n\nconst Persons = ({persons, filter, removePerson}) => {\n  const filteredPersons = () => {\n    return persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n  }\n\n  return (\n    <table>\n      <tbody>\n        {filteredPersons().map(elem =>\n          <Person key={elem.name}\n                  name={elem.name}\n                  number={elem.number}\n                  removePerson={() => removePerson(elem.id)}/>)\n        }\n      </tbody>\n    </table>\n  )\n}\n\nconst Person = ({name, number, removePerson}) => {\n  return (\n    <tr>\n      <td>{name}</td><td>{number}<button onClick={removePerson}>delete</button></td>\n    </tr>\n  )\n}\n\nconst Notification = ({message, isError}) => {\n  if (message === null) return null\n\n  return (\n    <div className={isError ? \"error\" : \"success\"}>\n      {message} {isError}\n    </div>\n  )\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}